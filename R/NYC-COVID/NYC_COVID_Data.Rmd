---
title: "NYC COVID Data"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

1. take existing data from spreadsheets
2. take new simple data from typed entry
(possibly -- scrape from the web)
3. take new complex data (sewershed) from documents in the folder
4. normalize data
5. update charts


```{r setup}
require(tidyverse) # for reading and parsing
require(tcltk) # for file choosing
require(here) # for file choosing
```

# Input
The Sample Data folder contains examples of files in the correct format.

. an existing csv with data fitting the format
. sewershed data from CDC
. case, positivity, and hospitalization data from NYC

```{r identify data files}

# ---- User chooses the input folder ----

datafolder <- tk_choose.dir(default = "", caption = "OPEN the folder with source data") # prompt user

files <- dir(datafolder, pattern = "*.csv") # Get a list of csv files in the folder

wastewaterFiles <- files[grepl("sarscov-2_rna_levels", files)]
# wastewaterFiles <- files[grepl("838", files)]

print("we have the following wastewater data files:")
wastewaterFiles
```

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

